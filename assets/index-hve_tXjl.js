var b=Object.defineProperty;var f=(n,e,t)=>e in n?b(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var r=(n,e,t)=>f(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();class v{constructor(e,t){this.model=e,this.view=t,this.view.bindValueInputChange(this.valueInputOnChange.bind(this)),this.view.bindHideToggleChange(this.hideToggleOnChange.bind(this)),this.view.bindAnimateToggleChange(this.animateToggleOnChange.bind(this)),this.updateView()}valueInputOnChange(e){const t=Number(e);e.trim()&&!Number.isNaN(t)&&t>=0&&t<=100&&this.setValue(t)}hideToggleOnChange(e){this.setIsHidden(e)}animateToggleOnChange(e){const t=this.model.getValue();!Number.isNaN(t)&&t>=0&&t<=100&&this.setIsAnimated(e)}setValue(e){this.model.setValue(e),this.updateView()}setIsAnimated(e){this.model.setIsAnimated(e),this.updateView()}setIsHidden(e){this.model.setIsHidden(e),this.updateView()}updateView(){this.view.update(this.model.getValue(),this.model.getIsAnimated(),this.model.getIsHidden())}}class I{constructor(e=100,t=!1,i=!1){this.value=e,this.isAnimated=t,this.isHidden=i}getValue(){return this.value}setValue(e){this.value=e}getIsHidden(){return this.isHidden}setIsHidden(e){this.isHidden=e}getIsAnimated(){return this.isAnimated}setIsAnimated(e){this.isAnimated=e}}const A="_progress-block_bblou_1",w="_wrapper_bblou_11",C="_canvas-wrapper_bblou_28",T="_header_bblou_34",_="_title_bblou_38",x="_input-group_bblou_44",y="_input_bblou_44",E="_input-text_bblou_58",L="_input-toggle_bblou_72",V="_input-label_bblou_101",P="_hide_bblou_107",o={progressBlock:A,wrapper:w,canvasWrapper:C,header:T,title:_,inputGroup:x,input:y,inputText:E,inputToggle:L,inputLabel:V,hide:P};class h{constructor(e){r(this,"element");r(this,"children",[]);this.element=document.createElement(e.tag),e.classes&&this.addStyles(e.classes),e.event&&e.callback&&this.addListener(e.event,e.callback),e.content&&this.addContent(e.content),e.attributes&&this.setAttributes(e.attributes)}getElement(){return this.element}addStyles(e){this.element.classList.add(...e)}removeStyles(e){this.element.classList.remove(...e)}toggleClass(e){this.element.classList.toggle(e)}addContent(e){this.element.textContent=e}addListener(e,t){this.element.addEventListener(e,t)}removeListener(e,t){this.element.removeEventListener(e,t)}append(e){this.children.push(...e),this.element.append(...e)}setAttributes(e){Object.entries(e).forEach(([t,i])=>{this.element.setAttribute(t,i)})}removeAttribute(e){this.element.removeAttribute(e)}destroyChildren(){this.children.forEach(e=>{e.remove()}),this.children.length=0}destroy(){this.destroyChildren(),this.element.remove()}}const d=(n,e)=>new h({tag:"div",classes:n,content:e}),k=(n,e)=>new h({tag:"h1",classes:n,content:e}),c=(n,e)=>new h({tag:"input",classes:n,attributes:e}),H=(n,e,t)=>new h({tag:"label",classes:n,content:e,attributes:t});class W{constructor(e,t,i,s,a){r(this,"lineWidth");r(this,"startAngle");r(this,"color");this.context=e,this.x=t,this.y=i,this.radius=s,this.endAngle=a,this.lineWidth=10,this.startAngle=-Math.PI/2,this.endAngle=a,this.color="#005DFF",this.draw()}draw(){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),this.context.lineWidth=this.lineWidth,this.context.strokeStyle="#EEF3F6",this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,!1),this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,this.context.stroke(),this.context.closePath()}update(e){this.startAngle=this.startAngle+Math.PI*2*e,this.endAngle=this.endAngle+Math.PI*2*e,this.draw()}updateArcWIdth(e){const t=this.endAngle-this.startAngle,i=e-t;this.endAngle+=i,this.draw()}}class O{constructor(e,t=.01){r(this,"circle");r(this,"speed");r(this,"animationId");this.circle=e,this.speed=t,this.animationId=null}start(){this.animationId===null&&this.animate()}stop(){this.animationId!==null&&(cancelAnimationFrame(this.animationId),this.animationId=null)}animate(){this.circle.update(this.speed),this.animationId=requestAnimationFrame(this.animate.bind(this))}}const M="_canvas_1uipw_1",S={canvas:M};class B extends h{constructor(t,i){super({tag:"canvas",classes:[S.canvas],attributes:{width:`${t}`,height:`${i}`}});r(this,"context");this.context=this.getElement().getContext("2d")}getContext(){return this.context}}const u=new B(130,130);class G extends h{constructor(t){super({tag:"section",classes:[o.progressBlock]});r(this,"valueInput");r(this,"animateToggle");r(this,"hideToggle");r(this,"progressCircle");r(this,"animation");this.valueInput=c([o.input,o.inputText],{type:"text",id:"value",value:`${t}`}),this.animateToggle=c([o.input,o.inputToggle,"input-toggle-hide"],{type:"checkbox",id:"animate"}),this.hideToggle=c([o.input,o.inputToggle],{type:"checkbox",id:"hide"}),this.renderCircle(t),this.renderComponent()}renderComponent(){const t=this.renderHeader("Progress"),i=d([o.wrapper]),s=d([o.canvasWrapper]);s.append([u.getElement()]),i.append([t.getElement(),s.getElement()]);const a=d([o.wrapper]),l=this.renderInputGroup(this.valueInput,"Value","value"),p=this.renderInputGroup(this.animateToggle,"Animate","animate"),m=this.renderInputGroup(this.hideToggle,"Hide","hide");a.append([l.getElement(),p.getElement(),m.getElement()]),this.append([i.getElement(),a.getElement()])}renderHeader(t){const i=new h({tag:"header",classes:[o.header]}),s=k([o.title],t);return i.append([s.getElement()]),i}renderCircle(t){const i=t/100*2*Math.PI-Math.PI/2;this.progressCircle=new W(u.getContext(),65,65,55,i),this.animation=new O(this.progressCircle,.01)}renderInputGroup(t,i,s){const a=d([o.inputGroup]),l=H([o.inputLabel],i,{for:s});return a.append([l.getElement(),t.getElement()]),a}updateCircle(t){const i=t/100*2*Math.PI;this.progressCircle.updateArcWIdth(i)}updateHideToggle(t){t?this.hideToggle.setAttributes({checked:"true"}):this.hideToggle.removeAttribute("checked")}updateAnimateToggle(t){t?this.animateToggle.setAttributes({checked:"true"}):this.animateToggle.removeAttribute("checked")}updateVisibility(t){t?this.addStyles([o.hide]):this.removeStyles([o.hide])}updateAnimationState(t){t?this.animation.start():this.animation.stop()}update(t,i,s){this.updateVisibility(s),this.updateHideToggle(s),this.updateCircle(t),this.updateAnimateToggle(i),this.updateAnimationState(i)}bindValueInputChange(t){this.valueInput.addListener("input",i=>{i.target&&i.target instanceof HTMLInputElement&&t(i.target.value)})}bindHideToggleChange(t){this.hideToggle.addListener("change",i=>{i.target&&i.target instanceof HTMLInputElement&&t(i.target.checked)})}bindAnimateToggleChange(t){this.animateToggle.addListener("change",i=>{i.target&&i.target instanceof HTMLInputElement&&t(i.target.checked)})}}function N(){const n=new I,e=new G(n.getValue()),t=new v(n,e);return{element:e.getElement(),setValue:i=>t.setValue(i),setIsAnimated:i=>t.setIsAnimated(i),setIsHidden:i=>t.setIsHidden(i)}}const F=N();class ${constructor(e){this.progressBlock=e}createApp(e){e.append(this.progressBlock)}}const g=document.querySelector("#app");if(!g)throw new Error("Root element not found");const R=new $(F.element);R.createApp(g);
