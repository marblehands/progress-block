var A=Object.defineProperty;var w=(s,e,t)=>e in s?A(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var r=(s,e,t)=>w(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();class x{constructor(e,t){this.model=e,this.view=t,this.view.bindValueInputChange(this.valueInputOnChange.bind(this)),this.view.bindHideToggleChange(this.hideToggleOnChange.bind(this)),this.view.bindAnimateToggleChange(this.animateToggleOnChange.bind(this)),this.updateView()}valueInputOnChange(e){const t=Number(e);e.trim()&&!Number.isNaN(t)&&t>=0&&t<=100&&this.setValue(t)}hideToggleOnChange(e){this.setIsHidden(e)}animateToggleOnChange(e){const t=this.model.getValue();!Number.isNaN(t)&&t>=0&&t<=100&&this.setIsAnimated(e)}setValue(e){this.model.setValue(e),this.updateView()}setIsAnimated(e){this.model.setIsAnimated(e),this.updateView()}setIsHidden(e){this.model.setIsHidden(e),this.updateView()}updateView(){this.view.update(this.model.getValue(),this.model.getIsAnimated(),this.model.getIsHidden())}}class C{constructor(e=100,t=!1,i=!1){this.value=e,this.isAnimated=t,this.isHidden=i}getValue(){return this.value}setValue(e){this.value=e}getIsHidden(){return this.isHidden}setIsHidden(e){this.isHidden=e}getIsAnimated(){return this.isAnimated}setIsAnimated(e){this.isAnimated=e}}class h{constructor(e){r(this,"element");r(this,"children",[]);this.element=document.createElement(e.tag),e.classes&&this.addStyles(e.classes),e.event&&e.callback&&this.addListener(e.event,e.callback),e.content&&this.addContent(e.content),e.attributes&&this.setAttributes(e.attributes)}getElement(){return this.element}addStyles(e){this.element.classList.add(...e)}removeStyles(e){this.element.classList.remove(...e)}toggleClass(e){this.element.classList.toggle(e)}addContent(e){this.element.textContent=e}addListener(e,t){this.element.addEventListener(e,t)}removeListener(e,t){this.element.removeEventListener(e,t)}append(e){this.children.push(...e),this.element.append(...e)}setAttributes(e){Object.entries(e).forEach(([t,i])=>{this.element.setAttribute(t,i)})}removeAttribute(e){this.element.removeAttribute(e)}destroyChildren(){this.children.forEach(e=>{e.remove()}),this.children.length=0}destroy(){this.destroyChildren(),this.element.remove()}}const d=(s,e)=>new h({tag:"div",classes:s,content:e}),T=(s,e)=>new h({tag:"h1",classes:s,content:e}),u=(s,e)=>new h({tag:"input",classes:s,attributes:e}),_=(s,e,t)=>new h({tag:"label",classes:s,content:e,attributes:t}),y="_progress-block_bblou_1",E="_wrapper_bblou_11",L="_canvas-wrapper_bblou_28",P="_header_bblou_34",V="_title_bblou_38",k="_input-group_bblou_44",H="_input_bblou_44",W="_input-text_bblou_58",S="_input-toggle_bblou_72",O="_input-label_bblou_101",M="_hide_bblou_107",a={progressBlock:y,wrapper:E,canvasWrapper:L,header:P,title:V,inputGroup:k,input:H,inputText:W,inputToggle:S,inputLabel:O,hide:M},G=window.devicePixelRatio*2;class N{constructor(e,t,i,n,o){r(this,"lineWidth");r(this,"startAngle");r(this,"color");this.context=e,this.x=t,this.y=i,this.radius=n,this.endAngle=o,this.lineWidth=10*G,this.startAngle=-Math.PI/2,this.endAngle=o,this.color="#005DFF",this.draw()}draw(){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),this.context.lineWidth=this.lineWidth,this.context.strokeStyle="#EEF3F6",this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,!1),this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,this.context.stroke(),this.context.closePath()}update(e){this.startAngle+=Math.PI*2*e,this.endAngle+=Math.PI*2*e,this.draw()}updateArcWidth(e){const t=this.endAngle-this.startAngle,i=e-t;this.endAngle+=i,this.draw()}}class B{constructor(e,t=.01){r(this,"circle");r(this,"speed");r(this,"animationId");this.circle=e,this.speed=t,this.animationId=null}start(){this.animationId===null&&this.animate()}stop(){this.animationId!==null&&(cancelAnimationFrame(this.animationId),this.animationId=null)}animate(){this.circle.update(this.speed),this.animationId=requestAnimationFrame(this.animate.bind(this))}}const $="_canvas_54ckh_1",F={canvas:$},p=window.devicePixelRatio*2;class R extends h{constructor(t,i){super({tag:"canvas",classes:[F.canvas],attributes:{width:`${t}`,height:`${i}`}});r(this,"context");this.context=this.getElement().getContext("2d"),this.context.imageSmoothingEnabled=!0,this.context.imageSmoothingQuality="high"}getContext(){return this.context}}const m=new R(130*p,130*p),g=window.devicePixelRatio*2;class c extends h{constructor(t){super({tag:"section",classes:[a.progressBlock]});r(this,"valueInput");r(this,"animateToggle");r(this,"hideToggle");r(this,"progressCircle");r(this,"animation");this.valueInput=u([a.input,a.inputText],{type:"text",id:"value",value:`${t}`}),this.animateToggle=u([a.input,a.inputToggle,"input-toggle-hide"],{type:"checkbox",id:"animate"}),this.hideToggle=u([a.input,a.inputToggle],{type:"checkbox",id:"hide"}),this.renderCircle(t),this.renderComponent()}renderComponent(){const t=new h({tag:"header",classes:[a.header]}),i=T([a.title],"Progress");t.append([i.getElement()]);const n=d([a.wrapper]),o=d([a.canvasWrapper]);o.append([m.getElement()]),n.append([t.getElement(),o.getElement()]);const l=d([a.wrapper]),v=c.renderInputGroup(this.valueInput,"Value","value"),f=c.renderInputGroup(this.animateToggle,"Animate","animate"),I=c.renderInputGroup(this.hideToggle,"Hide","hide");l.append([v.getElement(),f.getElement(),I.getElement()]),this.append([n.getElement(),l.getElement()])}renderCircle(t){const i=t/100*2*Math.PI-Math.PI/2;this.progressCircle=new N(m.getContext(),65*g,65*g,55*g,i),this.animation=new B(this.progressCircle,.01)}static renderInputGroup(t,i,n){const o=d([a.inputGroup]),l=_([a.inputLabel],i,{for:n});return o.append([l.getElement(),t.getElement()]),o}updateCircle(t){const i=t/100*2*Math.PI;this.progressCircle.updateArcWidth(i)}updateHideToggle(t){t?this.hideToggle.setAttributes({checked:"true"}):this.hideToggle.removeAttribute("checked")}updateAnimateToggle(t){t?this.animateToggle.setAttributes({checked:"true"}):this.animateToggle.removeAttribute("checked")}updateVisibility(t){t?this.addStyles([a.hide]):this.removeStyles([a.hide])}updateAnimationState(t){t?this.animation.start():this.animation.stop()}update(t,i,n){this.updateVisibility(n),this.updateHideToggle(n),this.updateCircle(t),this.updateAnimateToggle(i),this.updateAnimationState(i)}bindValueInputChange(t){this.valueInput.addListener("input",i=>{i.target&&i.target instanceof HTMLInputElement&&t(i.target.value)})}bindHideToggleChange(t){this.hideToggle.addListener("change",i=>{i.target&&i.target instanceof HTMLInputElement&&t(i.target.checked)})}bindAnimateToggleChange(t){this.animateToggle.addListener("change",i=>{i.target&&i.target instanceof HTMLInputElement&&t(i.target.checked)})}}function q(){const s=new C,e=new c(s.getValue()),t=new x(s,e);return{element:e.getElement(),setValue:i=>{t.setValue(i)},setIsAnimated:i=>{t.setIsAnimated(i)},setIsHidden:i=>{t.setIsHidden(i)}}}const j=q();class D{constructor(e){this.progressBlockComponent=e}createApp(e){e.append(this.progressBlockComponent)}}const b=document.querySelector("#app");if(!b)throw new Error("Root element not found");const K=new D(j.element);K.createApp(b);
